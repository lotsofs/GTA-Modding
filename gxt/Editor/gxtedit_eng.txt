Grand Theft Auto GXT Editor 1.3
===============================

WARNING: Before editing *.gxt files back them up!

* Whassis?

As the name claims, this program allows altering GTA text
resources, which are located in *.gxt files. This tool is intended
to be used for big translation projects. Games supported are
GTA2, GTA3, GTA: Vice City and GTA: San Andreas.


* What does it need to work?

Firstly, you'll need the file gxtedit.exe. Then, the file you
intend to edit, with extension of .gxt, .gxs or .txt. If you
want to see strings like they will look in the game, you'll need
font textures: font1.bmp and font2.bmp. And the last - if you
are doing translation to some strange-charset language (like
Russian) and have already edited font textures, you may want
to create transliteration table with .tbl extension.


* What to set up?

Having started the editor, you may enjoy empty window. The time
has come to load a file to edit.

Then, if you need to set up transliteration table, you may do so
by pressing Ctrl+T and entering 64-character line for the last
part of ASCII table. By default, gtarus.tbl is loaded.

If you have no font?.bmp files in program directory, you may load
them by selection Setting->Load texture menu items. Those are
needed only to display string preview at the bottom, so it's no
problem if you don't have any textures.


* How can I edit anything?

After loading a file (Ctrl+O) its contents are displayed. The
main difference between GTA2/3 and GTA:VC/SA is that first ones
store lines in one pack, while VC/SA gxt file have multiple
string tables in it. You may choose table in the list to the
left, strings are displayed in the right list. If you need to
check original lines when translating, you may load base file
(Ctrl+B). Lines from base file are displayed near editable ones.
After editing you may save your file with Ctrl+S.

To edit line, double-click on it, or select it and press Enter.
If you have font textures loaded, string preview is displayed
at the bottom of the window.

Editing window consists of two parts: original line (either the
line before editing or the line from base file if the latter is
loaded) and edit field. You may type text as usual, but there are
special control sequences enclosed in '~' characters. After
typing that character a window appears where you can choose what
code to insert (you may press appropriate key instead).
The meaning of the most of the codes is:

~1~ - some value, e.g. amount of money the player has;
~a~ - area name (e.g. Idlewood);
~b~ - a person's name (e.g. Sweet);
~h~ - highlighted text;
~k~ - user defined key (e.g. ~k~~PED_FIREWEAPON~);
~n~ - newline character;
~r~ - usually denotes a message that mission's failed;
~s~ (~g~ for GTA:VC) - order text (go somewhere, do something);
~w~ - normal text, is the default value;
~y~ - some place's name (e.g. Hospital);
~z~ - looks like it's code for the intro/cutscene text;

Control codes a, b, n, s, z, y are rare (or never) found in GTA3 and
GTA Vice City (GTA2 has totally different notation).

After choosing ~k~ you must select a variable to insert. When done,
press Enter to apply changes. If you have transliteration table
loaded, it will be applied to the entered string.

~n~ sequence means new line. However it's not used for displaying
preview.


* What are sections?

For distributed translation projects string resources can be
divided into several files that can be edited separately. For
this task Import / Export menu items are used. Sections are stored
either as binary files (*.gxs) or as text (*.txt). Sections can
be loaded using "Open file" option - it's not necessary to load
the original .gxt-file. To save loaded sections you may use
"Save" (Ctrl+S) menu line.

After choosing one or multiple files in import dialog the window
will be displayed where you must select what string tables to
import. After clicking Continue selected tables will be imported
and inserted into the loaded file.

"Mass export" window allows exporting multiple string tables to a
signle file. There you need to select which tables to export. If
"One section - one file" box was checked, file names for sections
will be autogenerated. For example, if you enter "sec_.gxs" for a
file name, sections will be named "sec_XXXX.gxs", where XXXX is
table name. Section files cannot be joined without the editor.


* Font textures

Font textures are taken not from resource files, but from *.bmp.
I don't understand txd-files format (and don't wish to :) so you'll
need to use extractors: "Vice City TXD Viewer"
(http://people.freenet.de/steve-m) or "ViceTXD"
(http://gtavice.com) for Vice City and  "TXD Workshop"
(http://www.gtatools.com/) for San Andreas. Note that fonts are
proportional. Character widths are calculated automatically, but
can be loaded from gta-vc.exe or fonts.dat files.


* History of changes

1.2		English documentation. Ukraine transliteration characters.
		Support for GTA2 and GTA San Andreas, game version is detected
		automatically. File formats for .gxs and .txt were changed.
		Vice City bundled fonts were replaced by San Andreas ones.
		Transliteration examples for pirated Russian San Andreas and
		official Russian GTA2 translation.

		Version 1.2 had occasionaly leaked to the net before it was
		finished. Sorry for all the trouble downloading a new one :)
		Version 1.3 is formally finished 1.2.

1.3		Now crc32s may be displayed as normal keys - you'll just need
		to prepare a list of all possible keys :) Example file,
		keys_sa.lst (loaded by default) is bundled. Many little bugs
		and annoying things were fixed. Various lists were updated
		for San Andreas. Search option has appeared.


* About author

I'm Zverik aka Ilya Zverev.
e-mail: zverik@rbcmail.ru
GXTEdit homepage: http://zverik.rbcmail.ru/gxtedit.html (not that there's
any info besides download links :)
